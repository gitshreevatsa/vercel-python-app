import math
import time
from flask import Flask, jsonify
import jwt;


app= Flask(__name__)

@app.route('/token')
def generateJWT():
    privateKey = '''-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEAx+HFBFoUsfwZ3ddrmAeE46gsl89OF62q65Y8NdRsiT22sxS7
t7G2xVhIk6z3k7kSL3YLXdpaGxqTj8dOn+MHs//O03v/DuMq1tXasbjyfxgcjlul
S4Y1pxzw45FsgkO42ZgxgI5kdseKAU6JAFttfWHwUpUGQEiWwAAz3Qp7KWYnhIPX
q1XxFUirpYBrhPUJkt65074Kpp0xmfQ7O8gaFuTtvPu3GKSmhYL/txeQTTYj/6Oh
RgNCgJrUvAinVZWtvXtu6XqdgXlRmUR/KIIbmIXTWBgu0FFCCgKRA77LxiRKO0ys
u+7ZdACCDzEIKjMN9UaQqyYObvTy2XJlGDwPXQIDAQABAoIBAQDH321hYqqbKBq9
iPJgPfSWqc6dp4DRkKn/lmVy9o3p1rpg7PShRaYcRKGeejG/mCslJodLPFMqEzNH
bOekXiOPzNcHB1EPk/18grCDUwu6J2Q2vlHV6ciw6PHAveShhhLME7I8eSbg17ua
fuvkXYho/oyQJ9DuayfDqvAxso9h3q5g5BRKnokhSLH9v9LMcCm3RQWHeAtL7FbD
0L0/A5q2eiuBJlN6U4Z8ZygGGKC3h0EN7H2kyWYXBrnBIv69a3DwcpbYWC1vDUjZ
kecxyEVCyyNOas6Q/mUJ7vK4A9i/Y3KjNfkpmteJw4OYTtfUXu4BOdHbxHl+eLz3
XHMe/E9JAoGBAOY7HZo8ViO9M0yrn7oDqryYMEVSqOJxLVyUuotIpJaGIrJqpUF3
pJfEZo1Kd12p41FKgI1XNIEMSvr3kzmbSToUXaE5kxYUiHzUwK/o4QIMR/yzyhkb
sQc2QLt6eoZk5pK/+cOQOSHNDkzA/OfAc51nsxIHmGmO5PusyU2965XbAoGBAN5B
DbePQTobHRHC1HLcig1SwGfYfkRDsE7WBdB7o7rXG+YKWhEHj9sQx21VVV09gA56
bRLxhbwB2CQNLT9JhWO/GnJeQd5aY/fD7w1Sbcgaio0kLPh2mMi8iapx94YEgsv+
01PM9vkE2ePBvpdbdpGbrcfCiY2U7yV67EllRSEnAoGAVWsbaYz3PJ1Guix2v3H6
16vzRNUNOa5Z8R5xM5oJDpvHpcBxfZ+hHnnMvqEhNkwAvblRhp8TKMnhy8ktA1N8
0KKbtmSBENEfbokU0G8rhDIAR16BHd2rSYy0aZpgeRpYfZviU89fkw3cP1fevTEm
9AB0bL0KrCdLB6Essr5C+L8CgYEAo+aBgR6J0ZnxJAnztgjhXdXqwiorY5gvStQW
UZr8MWs0zb5QkUJsWfbTutM1Mp+J8iNikJfAMdeCV4PIHGXRkq95h2HvXVR3aF37
ym1BPFImXtOQvmJnZZF0TFfjW9ezxVBU8/WxJA7pyEY2kVQH6nVOAIR8AAcXHSK7
YZznD/0CgYBgDHWq5lhDMy8K49T4jseP9IjHJk2NuICm4/Qso/TK1mSS71qD0Zmf
EkJMFP9xNPsApTAx5AAS+PRzyTrtQHP28jTXHhlMrzEwXeRG7DeXMi69z3I1oEG0
cocQp5AFoldSQlzrFp1XtRqxIuyq6SOB8FB0o/zxgjlfB3FeoBBSQA==
-----END RSA PRIVATE KEY-----'''
    
    secret = math.floor(time.time()/1000)+(60*60)
    token = jwt.encode({'exp' : secret}, privateKey, algorithm='RS256')
    print(token)
    return jsonify({'token' : token})



"""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJleHAiOjE2NTAxOTV9.RoO4iQsLlgxZR3bp9V2eRrJhfa3eeu2E9UHNpx7ol6Ezq3j8v0KOZ8yEX_0gByzytpZv6UD1eL4JOI9L-jQ3Id7MTlADUuvxCCjMewlVDy5IJX6qU5pDLb2QfXLWyYhv8pK3vtSRNLl86pbQCWdL5VAmbzdpAxmyyJy3TDSUC2mwQrOn99YNiCtv-pni8JZMJVYJ8w0RkDk7O3kvDqBHh_HaU4Gz3V0y4yHQFmWci0laJOtPDXGIXBWb9IybiALpHQDrgma5JHQ3OEEsMAe_9Zo79R9G7KNb-9LFEQOGavDdTV3NVYDlByJe2OlH8bqCZZy-cYXjIRVpfcoYlQTOAA"""
"""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJleHAiOjE2NTAxOTV9.RoO4iQsLlgxZR3bp9V2eRrJhfa3eeu2E9UHNpx7ol6Ezq3j8v0KOZ8yEX_0gByzytpZv6UD1eL4JOI9L-jQ3Id7MTlADUuvxCCjMewlVDy5IJX6qU5pDLb2QfXLWyYhv8pK3vtSRNLl86pbQCWdL5VAmbzdpAxmyyJy3TDSUC2mwQrOn99YNiCtv-pni8JZMJVYJ8w0RkDk7O3kvDqBHh_HaU4Gz3V0y4yHQFmWci0laJOtPDXGIXBWb9IybiALpHQDrgma5JHQ3OEEsMAe_9Zo79R9G7KNb-9LFEQOGavDdTV3NVYDlByJe2OlH8bqCZZy-cYXjIRVpfcoYlQTOAA"""
"""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJleHAiOjE2NTAxOTZ9.StkOZKvAoRtSyvNwwMO4gVFe-9tQNjwUl9-7i116G1Y9sAmssQfANm1bprnHdSiMjO2JMPsKmbKsV1_HpE5Tm8AHSwAsdDlxEjhSccB94cUGLUNwW_XwDBSl49qGS_hO99HUvMfgjTNTHRef7dlGahfAKkEvnji1xva4cjTyCbvDe-5Hdw8FT_ieioAZ1JswAx3qDdzo3_oBptPT8Z_KItMKsbJYuamjymX-rdq-J4F3CVdv5p3YeYxzC-IGTUYJzUKxjgYqbMF3GZMbX4DBI418QqP2YC97TgZ4mrayXD3L2dZiUYrvJ93zYTwYl5p6hfJBIDPEvKSGvPcZ4KaFig"""
"""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJleHAiOjE4NjI1OTZ9.c2512CJs10X5ZO-xjzhmxn2kMgC3Rz3LN7EWOA5MmtEvgCZ0fdbucsLxH6YBpuSgwQf3PyAf6PcybCWppYO49vwWnV40vHhouiingdwPddscg3Ra2F6fxy_zQRbmbjrOKgcrBWLogggff9OY_fZxOqOWtCYdVLC99CLjsXk0R1oG1wDe4BvH5Fcy5lP-hYlEBbmRHzqLs_5joE7l8FLQgzC_EcLzMbvLtClW6X109GCbA16VEFKPUA6bVECjIxFdoUYMHsydiU2731i8VH9cAd3RP42VPz84CTgVNyDa-2BSZC52CWeKGVNeR6vN_atEMoDj3-oqokC10J8sNewbHg"""